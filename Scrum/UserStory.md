
User Story模板 

User Story可以遵循以下模板：As a <User Type> I want to <achieve goal> So that  I can <get some value>

翻译成中文就是：作为一个<某种类型的用户>，我要<达成某些目的>，我这么做的原因是<开发的价值>。

 
User Story应遵循INVEST规则

- Independent 独立性，避免与其他Story的依赖性。
- Negotiable 可谈判性，Scrum中的story不是瀑布开始某事中的Contract, Stories不必太过详细，开发人员可以给出适当的建议。
- Valueable 有价值性， Story需要体现出对于用户的价值
- Estimable 可估计性，Story应可以估计出Task的开发时间。
- Sized Right 合理的尺寸， Stories应该尽量小，并且使得团队尽量在1个sprint(2 weeks)中完成。
- Testable 可测试性， User Story应该是可以测试的，最好有界面可以测试和自动化测试。每个任务都应有Junit Test.


一些经验：

永远不要在User Story中使用And和Or，因为这是些分支词就表示分支任务，把它们拆成两个Story.

数据整理：通常情况下1个sprint(2周一次迭代)可以做4～5个Story，极端大的Story不可大于1个sprint。

数据整理：通常情况下1个sprint(2周一次迭代)可以做50个左右的Task。

User Story用于描述用户故事，不要包括任何的技术，框架等内容。Task可以包括框架，技术等内容。

什么是用户故事？

用户故事是从用户的角度来描述用户渴望得到的功能。一个好的用户故事包括三个要素：

1.     角色：谁要使用这个功能。

2.     活动：需要完成什么样的功能。

3.     商业价值：为什么需要这个功能，这个功能带来什么样的价值。

用户故事通常按照如下的格式来表达：

英文：

As a <Role>, I want to <Activity>, so that <Business Value>.

中文：

作为一个<角色>, 我想要<活动>, 以便于<商业价值>

举例：

作为一个“网站管理员”，我想要“统计每天有多少人访问了我的网站”，以便于“我的赞助商了解我的网站会给他们带来什么收益。”

需要注意的是用户故事不能够使用技术语言来描述，要使用用户可以理解的业务语言来描述。


摘要:

    一件用户通过系统完成他一个有价值的目标（买一罐饮料）的事。这样的过程就叫“用户案例(user case)”或者“用户故事(user story)”。本文描述了敏捷开发的技巧：如何以用户故事管理项目.

### 什么是用户故事(user story)

    假定这个项目的客户是个饮料自动售货机的制造商。他们要求我们为他们的售货机开发一款软件。我们可以找他们的市场经理了解这个软件的需求。

    因此，我们的客户就是他们的市场经理。谈需求的时候，有一回他这样说：“用户往售货机每塞一个硬币，售货机都要显示当前该客户已经投了多少钱。当用户投的钱够买某一款饮料时，代表这款饮料的按钮的灯就会亮。如果那个用户按了这个按钮，售货机就放一罐饮料到出口，然后找零钱给他。”

    上面的话描述的是一件事情，一件用户通过系统完成他一个有价值的目标（买一罐饮料）的事。这样的过程就叫“用户案例(user case)”或者“用户故事(user story)”。也就是说，上面我们的客户所说的话，就是在描述一个用户故事（user story）。
    (我解释一下为什么用故事这个词，没兴趣也可以忽略。在一个系统面前，每个用户要完成同样的目标，都要做这个系统设定的例行的事，这件事情不是一个例子，所以不叫事例，这也不是故事，也不能算一段历程，而是一个例行的事。)

    如果我们想要记下这段用户故事，我们可能会用这样的格式：

    名称：卖饮料

    事件：

    1. 用户投入一些钱。

    2. 售货机显示用户已经投了多少钱。

    3. 如果投入的钱足够买某种饮料，这种饮料对应的按钮的灯就会亮。

    4. 用户按了某个亮了的按钮。

    5. 售货机卖出一罐饮料给他。

    6. 售货机找零钱给他。

    注意到，一个用户故事里面的事件可以这样描述：

    1. 用户做XX。

    2. 系统做YY。

    3. 用户做ZZ。

    4. 系统做TT。

    5.  ...

### 用户故事只是描述系统的外在行为

    一个用户故事只是以客户能够明白的方式，描述了一个系统的外在行为，它完全忽略了系统的内部动作。比如，下面有下划线的那些文字，就属于不应该出现在用户故事中的系统内部动作：

    1. 用户投入一些钱。

    2. 售货机将塞进来的钱存在钱箱里，然后发送一条命令给屏幕，屏幕显示目前已经投入的金额。

    3. 售货机查询数据库里面所有饮料的价格，判定钱足够买哪些饮料，对于钱足够买的那些饮料，对应的按钮的灯就会亮起来。

    4. 用户按下一个亮起来的按钮。

    5. 售货机卖出一罐饮料给用户，然后将数据库里面该饮料的存货数量减1。

    6. 售货机找零钱给用户。

    不管是口头描述的，还是书面形式，这样的内容是描述用户故事时一个很常见的错误。特别的，千万不要提及任何有关数据库，记录，字段之类的对客户一点意义都没有的东西。

评估发布时间

用户故事是用来干嘛的？假定客户希望在50天内递交这个系统。我们做得了吗？为了解答这个问题，我们就要在项目开始的阶段，试着找出所有的用户故事，然后评估一下，每一项历程需要多长的开发时间。可是，怎么评估呢？

比如，我们现在收集了下面这些用户故事：

  卖饮料：如上面所说的。

  取消购买：在投入了一些钱后，用户可以取消购买。

  输入管理密码：授权的人可以输入管理密码，然后增加存货，设定价格，拿走里面的钱等等。

  补充饮料：授权的人可以在输入管理密码后增加存货。

  取出钱箱里的钱：授权的人在输入管理密码后，可以取出钱箱里的钱箱里面的钱。

  安全警报：有些事情经常发生的话，系统会自动打开安全警报。

  打印月销售报表：授权的人可以打印出月销售报表。

  然后找出里面最简单的用户故事（这里的“简单”，意思是说实现周期最短）。我们不一定非常精准的判断哪个最简单。只要挑出你觉得最简单的就行了。比如，我们觉得“输入管理密码”是最简单的用户故事。然后我们判断说，这个用户故事算1个“故事点（story point）”。
                        
用户故事          故事点

卖饮料        

取消购买        

输入管理密码   1

补充饮料        

取出钱箱里的钱        

安全警报        

打印月销售报表       

不过一般我们不会列出清单，而是做出一堆卡片贴在墙上，每张卡片记录一个用户故事，然后将故事点写在卡片上面：

image

这样的一张卡片就叫“故事卡（story card）”。

 

 

用户故事通常按照如下的格式来表达：

英文：

As a <Role>, I want to <Activity>, so that <Business Value>.

中文：

作为一个<角色>, 我想要<活动>, 以便于<商业价值>

举例：

作为一个“网站管理员”，我想要“统计每天有多少人访问了我的网站”，以便于“我的赞助商了解我的网站会给他们带来什么收益。”

需要注意的是用户故事不能够使用技术语言来描述，要使用用户可以理解的业务语言来描述。

Ron Jeffries的3个C

关于用户故事，Ron Jeffries用3个C来描述它：

卡片（Card） - 用户故事一般写在小的记事卡片上。卡片上可能会写上故事的简短描述，工作量估算等。

交谈（Conversation）- 用户故事背后的细节来源于和客户或者产品负责人的交流沟通。

确认（Confirmation）- 通过验收测试确认用户故事被正确完成。


### User Story适用范围
User Story是一种描述用户需求、业务价值的最佳实践，

但不是说非要用User Story的形式来描述需求，

而且通常在一个Sprint backlog中，尤其在最初的若干Sprint中会存在一些架构设计、技术调研、接口定义、获取背景知识这些方面的事项和任务需要处理，

那么这些任务是不适合用User Story进行描述的，应该用技术团队熟悉的语言和规范进行描述，这些任务是为了后续Sprint更好更多的完成业务需求相关的用户故事。



这意味着一个Sprint不是所有的任务输出都可以给用户演示，但依然是需要可以被团队评审的。



一般而言，可以参照如下的规则来确定某需求是否适合采用User Story的形式来进行描述：

- 业务需求: 适合。 
- 技术规格: 不适合，这些通常是用来完成一个User Story的支撑任务
- 缺陷: 未必适合，通常可能是技术过失 
- 非功能性需求: 适合
