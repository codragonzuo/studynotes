# 刀片服务器
所谓刀片服务器(准确的说应叫做刀片式服务器 blade server)是指在标准高度的机架式机箱内可插装多个卡式的服务器单元，实现高可用和高密度。

是一种HAHD(High Availability High Density，高可用高密度)的低成本服务器平台，是专门为特殊应用行业和高密度计算机环境设计的，其主要结构为一大型主体机箱，内部可插上许多“刀片”，其中每一块"刀片"实际上就是一块系统主板。它们可以通过"板载"硬盘启动自己的操作系统，如Windows NT/2000、Linux等，类似于一个个独立的服务器，

在这种模式下，每一块母板运行自己的系统，服务于指定的不同用户群，相互之间没有关联。不过，管理员可以使用系统软件将这些母板集合成一个服务器集群。在集群模式下，所有的母板可以连接起来提供高速的网络环境，并同时共享资源，为相同的用户群服务。在集群中插入新的"刀片"，就可以提高整体性能。而由于每块"刀片"都是热插拔的，所以，系统可以轻松地进行替换，并且将维护时间减少到最小。 [1] 

这些刀片服务器在设计之初都具有低功耗、空间小、单机售价低等特点，同时它还继承发扬了传统服务器的一些技术指标，比如把热插拔和冗余运用到刀片服务器之中，这些设计满足了密集计算环境对服务器性能的需求；有的还通过内置的负载均衡技术，有效地提高了服务器的稳定性和核心网络性能。而从外表看，与传统的机架式服务器/塔式服务器相比，刀片服务器能够最大限度地节约服务器的使用空间和费用，并为用户提供灵活、便捷的扩展升级手段。

刀片服务器比机架式服务器更节省空间，同时，散热问题也更突出，往往要在机箱内装上大型强力风扇来散热。此型服务器虽然空间较节省，但是其机柜与刀片价格都不低，一般应用于大型的数据中心或者需要大规模计算的领域，如银行电信金融行业以及互联网数据中心等。

刀片式服务器已经成为高性能计算集群的主流，在全球超级500 强和国内100 强超级计算机中，许多新增的集群系统都采用了刀片架构。由于采用刀片服务器可以极大减少所需外部线缆的数量，可以大大降低由于线缆连接故障带来的隐患，提高系统可靠性。

通常人们按照外形结构的不同将服务器分成塔式、机架式、刀片式服务器三种类型。 [1] 

## 塔式服务器
塔式服务器一般是大家见得最多的，它的外形及结构都与普通的PC机差不多，只是个头稍大一些，其外形尺寸并无统一标准。

塔式服务器的主板扩展性较强，插槽也很多，而且塔式服务器的机箱内部往往会预留很多空间，以便进行硬盘，电源等的冗余扩展。这种服务器无需额外设备，对放置空间没多少要求，并且具有良好的可扩展性，配置也能够很高，因而应用范围非常广泛，可以满足一般常见的服务器应用需求。

这种类型服务器尤其适合常见的入门级和工作组级服务器应用，而且成本比较低，性能能满足大部分中小企业用户的要求，市场需求空间还是很大的。

但这种类型服务器也有不少局限性，在需要采用多台服务器同时工作以满足较高的服务器应用需求时，由于其个体比较大，占用空间多，也不方便管理，便显得很不适合。
## 机架式服务器
机架服务器实际上是工业标准化下的产品，其外观按照统一标准来设计，配合机柜统一使用，以满足企业的服务器密集部署需求。机架服务器的主要作用是为节省空间，由于能够将多台服务器装到一个机柜上，不仅可以占用更小的空间，而且也便于统一管理。机架服务器的宽度为19英寸，高度以U为单位（1U=1.75英寸=44.45毫米），通常有1U，2U，3U，4U，5U，7U几种标准的服务器。最常用的有1U 2U。

这种服务器的优点是占用空间小，而且便于统一管理，但由于内部空间限制，扩充性较受限制，例如1U的服务器大都只有1到2个PCI扩充槽。此外，散热性能也是一个需要注意的问题，此外还需要有机柜等设备，

**因此这种服务器多用于服务器数量较多的大型企业使用，也有不少企业采用这种类型的服务器，但将服务器交付给专门的服务器托管机构来托管，尤其是很多网站的服务器都采用这种方式。**

这种服务器由于在扩展性和散热问题上受到限制，因而单机性能比较有限，应用范围也受到一定限制，往往只专注于在某方面的应用，如远程存储和网络服务等。

##优点
刀片服务器
（1）大大降低运行管理费用
（2）高处理能力密度，节省宝贵空间和占地费用
（3）低耗电降低电费
（4）可靠性设计更加完善，减少停机时间
（5）光路诊断
（6）电缆连接点大大减少
（7）冗余交换模块和电缆连接 [2] 

## 缺点
（1）部署刀片数据中心的前期成本较高。
（2）无论刀片服务器内置的冗余是多少，都存在所有刀片服务器宕机和故障的可能性。
（3）对于拥有一个或两个刀片中心的企业用户来说，购买备用的部件可能很不划算（如备用机箱等）。
（4）大多数刀片中心都有特殊的供电需求，这可能意味着特殊电缆的额外前期成本。
（5）刀片中心通常采用的是专用网卡和KVM附属设备，有时候还需要特殊电缆或驱动程序。这样你的刀片服务器上运行什么操作系统就是个问题。
（6）多数刀片中心常用的2.5英寸硬盘通常比非刀片服务器上使用的传统3.5英寸SAS/SATA硬盘故障率要高（随着时间的推移，这种缺陷正在得到改进）。
（7）一旦你承诺使用刀片中心，再购买刀片服务器时就会受到厂商的限制，这样从价格的角度来看对供应商不利。
## 隐患
隐患一：刀片机箱的成本的过于昂贵

刀片机箱一般都非常昂贵，即使刀片服务器本身和机架式服务器相比还便宜一些。根据各大刀片供应商的产品报价来看，一般容纳最多8台刀片服务器。相比相同规格的机架式服务器，每一台刀片大约便宜500美元。这意味着即使一个刀片机箱完全配置了8台刀片服务器，在价格上也会比传统方式多花费1000美元以上。
另外，每多空一个刀片插槽，就会额外的负担相应的费用。刀片机箱通常容纳8至16台刀片服务器，对于前期应用并不是很多的企业，前期采购刀片服务器的成本过高。

隐患二：刀片技术更新变化频繁

与传统机架不同，刀片机箱的技术是最新的，而且每一次换代都会要求更换机箱来支持新的刀片服务器。如果企业的服务器数量并不多，对于更换机箱所需要的成本是一个不小的挑战。

隐患三：各大厂商锁定各自技术

传统的机架服务器产品的技术与厂商并没有过多的联系。大多数服务商在机房的机架上混合搭配着各种各样的服务器、电源、路由、交换机监控设备和其他设备。而刀片服务器必须使用特定的厂商，每个产品都不能放弃自己供应商和技术，这将极大增加小服务商的风险。

采购须知
以下是在您决定使用刀片服务器前一些需要考虑的因素：

确定电力需求
与供应商以及设备人员或者电工协商，确定您需要什么电源和电源连接器的类型，以支持多种刀片服务器中心。许多刀片服务器供应商的网站都提供功率计算器和其他工具以帮助确定可能的电能节约。
项目增长计划和能力需求。审视您的增长计划和对服务器性能、存储器、存储和I/O（输入输出端口）性能、网络带宽和连通性的要求。一个刀片服务器中心如何实现这些计划?为了增强个人刀片服务器组使其具有更好的处理能力、I/O性能和存储性能，您都可做何选择?请谨记，一个刀片服务器中心底盘中刀片服务器的数量和大小，都会因供应商和品牌的不同而有所变动。
确定互通性和网络连通性的各项事宜
如果要实现与现有存储和网络技术的互通互联，您需要什么样的兼容性和选择何种I/O与网络连通性?研究一个具体的刀片中心，看它是否能够提供足够的存储与网络连通性以满足全部服务器刀片积极高效运作环境的要求。如果您将刀片服务器与服务器虚拟化结合应用，就要着眼于总体的存储与网络I/O的要求。
查询服务器和存储区域网络的互通性
与供应商协商无盘服务器的互通性和前提或存储区域网络导入服务器的各项事宜。服务器刀片如同传统的货架式堆叠服务器一样提供了多种选择，包括处理器核心的数量和类型，存储器的数量，磁盘驱动器的不同类型、容量和数量，I/O连通性选项。例如，一些刀片服务器支持夹层卡，它可以附加额外的PCI，PCI-X或PCIe适配器，如以太网、光线通道或InfiniBand。
问每个供应商如下问题
服务器是否包括多电脑切换器以管理刀片，以及CD/DVD和USB接口的性能。
网络和存储I/O性能的选项是什么?服务器是否能在您现有环境下工作?
每个刀片底盘支持多少刀片?
每个刀片有哪种处理器、芯数和I/O能力?
不同服务器刀片支持哪种操作系统?
您的服务器刀片是否需要磁盘驱动器，他们是否支持热插拔?
对电源和散热有什么要求?
是否需要专用电源连接器和架构?

## 选用前的问题
空间资源的问题

与传统的机架式的服务器相比，刀片技术可以节省很大的空间资源。然而，因为刀片的这种高密度性，你必须考虑到动力驱动以及制冷的问题。硕大的底盘和机架在动力驱动和数据中心制冷方面可能会超过你所能承受的负担。

在有些情况下，如果继续使用传统机架式服务器的数据中心进行整合和巩固，可能会使得空间资源相当的局限，这就意味着需要建立新的数据中心。在这些情况下，刀片技术可以在成本方面提供巨大的节省。当一个新型的数据中心必须建立的时候，毫无疑问，设计一种使用刀片技术的设施将能够创建一种新的设备模型，从而产生真正的下一代的数据中心。

服务器定位:偏远位置还是中央位置

如果计划对服务器系统进行整合，但是仍然需要一定的服务器安放在偏远的位置，那么刀片技术将可以大大的简化你的这些管理难题。刀片技术拥有很强的遥控管理功能，意味着IT技术员工可以对这些处于偏远位置的刀片系统进行完全的管理，包括每一项任务，当然物理硬件交换除外。这种刀片技术的底盘管理模块可以提供远程控制的能力，可以进行硬件诊断、重新启动，甚至关闭某些功能。刀片技术还可以简化站点的某些必要的物理任务，而这主要是通过方便读取的指示器完成的，例如该指示器可以显示哪一个刀片出现了问题，从而即使是非技术型的员工也能够用一个新的刀片换掉这个出现问题的刀片。

刀片管理功能可以与其他的一些管理工具进行整合，例如IBM Director， HP Insight Manager， Dell OpenManage 以及微软的管理工具等。并且，在软件配置及供应方面，越来越多的软件工具可以最终胜任这种进程，包括一些大型厂家的工具，也包括一些小型厂家，例如 Altiris， Cyclades (被Avocent集团收购) 以及Ardence公司等。

遵循动态的配置原则

如果正在将服务器整合于一个中央位置，并且在某些位置的业余时间还有一些服务器处于空闲状态，那么可以根据时区的变化，将这些空闲的服务器配置到其他的应用软件和地区，这样就可以提供一些额外的整合和节省。通过它们的模块方法，刀片技术可以处理和推动这种进程，只要将其与所提供和需要配置的软件进行结合。如果所使用的刀片是匿名的，并且可以从存储局域网络(SAN)获取资源，那么这个工作进程将变得更加的简易。虚拟技术软件可以增加另外的处理层，而这需要多重的虚拟服务器供应，并且需要在任何时候都拥有多种可行的刀片。

服务器的数量

因为不同的刀片共享底盘中的公共成分资源，所以要使得自己在底盘和刀片方面的投资成本大致平衡。一般来说，这种平衡点在于每个底盘的投资与5- 6个刀片的投资相当。所以如果在某个地点的服务器数量少于5台，那么不要期望有什么大的发展，在此刀片可能并不是最好的选择。随着越来越多的刀片增加到底盘之中，每个刀片的费用将随之降低，因为它们在共享某些公共的资源(例如能源动力、制冷、转换模块等)。然而，需要根据数据中心的制冷能力，对地盘以及机架进行充分的配置。当然这还需要受限于在评测、计划以及执行进程方面的管理技术员工的数量和能力。

## 应用软件的类型

尽管CPU在刀片方面的性能不断的增长，刀片还是无法跟上高性能计算任务的增长步伐。不断增加的应用软件数量需要在一个单独的系统映像中拥有很强的CPU资源，甚至很多的处理器;这种类型的应用软件可能比较适合于机架服务器(尽管该领域的一些刀片厂家正在对此进行辩论)。相反，不断扩充的应用软件需要很多的服务器运行相同的应用软件(例如网络服务器，一些应用软件服务器，以及一些数据库服务器等)，这种应用软件就比较适合于整合和管理的刀片技术。

还有一个受到刀片技术巨大吸引的领域，那就是"套装的数据中心"方法;在这种方法下，一台刀片服务器系统配置所有的偏远站点所需要的成分。例如，可以配置一台底盘系统，使其拥有网络服务器、应用软件服务器、数据库服务器，以及转换模块等，并且还包括防火墙工具，下载平衡工具，以及所有存储或者存储连通性所适合的东西(NAS或者SAN)。
